<!DOCTYPE html>
<html>
<head>
    <title>Unique 4-Digit Number Entry</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <div id="textbox-container">
        <!-- Initial set of text boxes -->
        <input type="text" class="number-input" maxlength="4">
        <input type="text" class="number-input" maxlength="4">
        <input type="text" class="number-input" maxlength="4">
        <input type="text" class="number-input" maxlength="4">
        <input type="text" class="number-input" maxlength="4">
        <input type="text" class="number-input" maxlength="4">
        <input type="text" class="number-input" maxlength="4">
        <input type="text" class="number-input" maxlength="4">
        <input type="text" class="number-input" maxlength="4">
        <input type="text" class="number-input" maxlength="4">
    </div>

    <button id="add-button">Add Text Box</button>
    <button id="remove-button">Remove Text Box</button>
    <input type="hidden" id="hidden-field">

    <script>
        // Function to check for duplicate numbers

function updateHiddenField() {
            const values = $('.number-input').map(function() {
                return $(this).val();
            }).get().join(',');
            $('#hidden-field').val(values);
        }
        function hasDuplicateNumbers() {
            const numberSet = new Set();
            let hasDuplicates = false;
            $('.number-input').each(function() {
                const value = $(this).val();
                if (numberSet.has(value) && value !== '') {
                    hasDuplicates = true;
                }
                numberSet.add(value);
            });
            return hasDuplicates;
        }
/// parse and set
$('#parse-and-set').on('click', function() {
            const values = $('#hidden-field').val().split(',');
            $('.number-input').each(function(index) {
                if (index < values.length) {
                    $(this).val(values[index]);
                } else {
                    $(this).val('');
                }
            });
        });


        // Function to add a new text box
        $('#add-button').on('click', function() {
            const numInputs = $('.number-input').length;
            if (numInputs < 10) {
                const newInput = $('<input type="text" class="number-input" maxlength="4">');
                $('#textbox-container').append(newInput);
            }
        });

        // Function to remove the last text box
        $('#remove-button').on('click', function() {
            const numInputs = $('.number-input').length;
            if (numInputs > 1) {
                $('.number-input').last().remove();
            }
        });

        // Event listener for input changes
        $('#textbox-container').on('input', '.number-input', function() {
            if (hasDuplicateNumbers()) {
                alert("Numbers must be unique!");
                $(this).val('');
            }
        });
    </script>
</body>
</html>
